@*
  Layout สำหรับหน้า Login ของ AMS Media (เวอร์ชันปรับปรุง)
  - กล่องฟอร์มกว้างขึ้น ดูชัดเจนขึ้น
  - บังคับ UTF-8 กันตัวหนังสือไทยเพี้ยน
  - ใช้ Bootstrap 5 (ทั้งแบบไฟล์ local และ CDN fallback)
*@
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>@(ViewData["Title"] ?? "Sign in") - AMS Media</title>

    <!-- ใช้ไฟล์ local ถ้ามี -->
    <link rel="stylesheet" href="~/lib/bootstrap/css/bootstrap.min.css" asp-append-version="true" />
    <link rel="stylesheet" href="~/css/site.css" asp-append-version="true" />

    <!-- Fallback เป็น CDN กรณีไม่มีไฟล์ local -->
    <link rel="preconnect" href="https://cdn.jsdelivr.net" />
    <script>
        (function () {
          const test = document.createElement('div');
          test.className = 'd-none';
          document.head.appendChild(test);
          const hasBootstrap = getComputedStyle(test).display === 'none';
          if (!hasBootstrap) {
            const l = document.createElement('link');
            l.rel = 'stylesheet';
            l.href = 'https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css';
            document.head.appendChild(l);
          }
          test.remove();
        })();
    </script>

    <style>
        :root {
            color-scheme: light;
        }

        body {
            background: radial-gradient(1200px 600px at 70% 10%, rgba(0,0,0,.06), transparent), #f5f7fa;
            min-height: 100vh;
            display: grid;
            place-items: center;
            padding: 24px;
        }

        .login-container {
            width: 100%;
            max-width: 520px;
        }

        .card {
            border: 0;
            border-radius: 18px;
            box-shadow: 0 18px 50px rgba(0,0,0,.12);
            overflow: hidden;
        }

        .card-body {
            padding: 28px;
        }

        h3 {
            font-weight: 600;
        }
    </style>
</head>
<body>
    <main class="login-container">
        <div class="card bg-white">
            <div class="card-body text-center">
                <img src="~/img/ams_logo.png" alt="AMS Media" class="mb-3" style="max-height:80px;" />
                @RenderBody()
            </div>
        </div>

    </main>

    <!-- Bootstrap local -->
    <script src="~/lib/bootstrap/js/bootstrap.bundle.min.js" asp-append-version="true"></script>
    <!-- Fallback CDN -->
    <script>
        if (typeof bootstrap === 'undefined') {
          var s = document.createElement('script');
          s.src = 'https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js';
          document.body.appendChild(s);
        }
    </script>

    @RenderSection("Scripts", required: false)
</body>
</html>
